<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Toko Senja Outfit</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: "Quicksand", sans-serif;
      background: linear-gradient(135deg, #ffe6f0, #fff);
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h1,h2 { text-align:center; color:#d63384; }
    /* Login */
    #loginPage { display:flex; justify-content:center; align-items:center; height:100vh; }
    .login-box { background:rgba(255,255,255,0.95); padding:40px 30px; border-radius:20px; width:320px; text-align:center; box-shadow:0 6px 20px rgba(0,0,0,0.15); backdrop-filter: blur(8px);}
    .login-box h2 { margin-bottom:20px; font-size:28px; font-family:'Playfair Display', serif; color:#d63384; }
    .login-box input { width:100%; padding:12px; margin:10px 0; border:1px solid #f8bbd0; border-radius:10px; outline:none; transition:0.3s; }
    .login-box input:focus { border-color:#d63384; box-shadow:0 0 6px rgba(214,51,132,0.3); }
    .login-box button { width:100%; padding:12px; background:linear-gradient(135deg,#f8a1c4,#fcd6e3); border:none; border-radius:12px; color:#fff; font-size:16px; font-weight:600; cursor:pointer; transition: transform 0.2s, box-shadow 0.3s;}
    .login-box button:hover { transform:translateY(-2px); box-shadow:0 6px 15px rgba(214,51,132,0.3); }
    /* App */
    #app { display:none; }
    #searchInput { display:block; margin:0 auto 20px; padding:10px; width:80%; max-width:400px; border:1px solid #ccc; border-radius:12px; }
    .card { border:1px solid #ddd; border-radius:12px; padding:15px; margin:10px; width:220px; text-align:center; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.1); transition: transform .2s; }
    .card:hover { transform:translateY(-4px); }
    .card img { max-width:100%; height:150px; object-fit:cover; border-radius:8px; }
    #product-list { display:flex; flex-wrap:wrap; justify-content:center; }
    #pagination { text-align:center; margin:20px; }
    #pagination button { padding:6px 12px; margin:0 5px; border:none; background:#d63384; color:white; border-radius:8px; cursor:pointer; }
    #pagination button:disabled { background:#ccc; }
    #cartItems,#wishlistItems { border:1px solid #ccc; padding:10px; min-height:50px; border-radius:8px; background:#fff; margin-bottom:10px; }
    form { margin-top:20px; text-align:center; }
    form input { margin:5px; padding:8px; border-radius:8px; border:1px solid #ccc; }
    form button { padding:8px 16px; background:#d63384; color:white; border:none; border-radius:8px; cursor:pointer; }
    #toast { visibility:hidden; min-width:250px; background-color:#d63384; color:#fff; text-align:center; border-radius:12px; padding:12px; position:fixed; z-index:1; left:50%; bottom:30px; transform:translateX(-50%); font-size:14px; }
    #toast.show { visibility:visible; animation:fadein 0.5s, fadeout 0.5s 2.5s; }
    @keyframes fadein { from {bottom:0; opacity:0;} to {bottom:30px; opacity:1;} }
    @keyframes fadeout { from {bottom:30px; opacity:1;} to {bottom:0; opacity:0;} }
    .comment-box { border-bottom:1px solid #eee; padding:5px 0; text-align:left; }
    .comments form input { width:90%; margin:4px 0; }
  </style>
</head>
<body>
  <!-- Login -->
  <div id="loginPage">
    <div class="login-box">
      <h2>Login</h2>
      <form onsubmit="return login(event)">
        <input type="text" id="username" placeholder="Username" required><br>
        <input type="password" id="password" placeholder="Password" required><br>
        <button type="submit">Masuk</button>
      </form>
    </div>
  </div>

  <!-- App -->
  <div id="app">
    <h1>üõçÔ∏è Toko Online Mini</h1>
    <input type="text" id="searchInput" placeholder="Cari produk...">
    <div id="product-list"></div>
    <div id="pagination"></div>
    <h2>Keranjang</h2>
    <div id="cartItems"></div>
    <p>Total: <span id="cartTotal">Rp0</span></p>
    <button id="checkoutBtn">Checkout</button>
    <h2>Wishlist ‚ù§Ô∏è</h2>
    <div id="wishlistItems"></div>
    <h2>Tambah Produk</h2>
    <form id="addProductForm">
      <input type="text" id="name" placeholder="Nama produk" required>
      <input type="number" id="price" placeholder="Harga" required>
      <input type="text" id="img" placeholder="Nama file gambar" required>
      <input type="text" id="desc" placeholder="Deskripsi" required>
      <button type="submit">Tambah Produk</button>
    </form>
    <div id="toast"></div>
  </div>

  <script>
    // LOGIN
    function login(e){
      e.preventDefault();
      const user=document.getElementById("username").value;
      const pass=document.getElementById("password").value;
      if(user==="admin" && pass==="12345"){
        sessionStorage.setItem("loggedIn","true");
        document.getElementById("loginPage").style.display="none";
        document.getElementById("app").style.display="block";
        showToast("Login berhasil!");
      } else { alert("Username atau password salah!"); }
    }
    if(sessionStorage.getItem("loggedIn")==="true"){
      document.getElementById("loginPage").style.display="none";
      document.getElementById("app").style.display="block";
    }

    // DATA PRODUK
    let products=[
      {id:1,name:"Baju Lengan Panjang",price:120000,img:"bajulenganpanjang.jpg",desc:"Baju katun lengan panjang, cocok untuk acara formal."},
      {id:2,name:"Kaos Lengan Pendek",price:80000,img:"bajulenganpendek.jpg",desc:"Kaos santai bahan adem, cocok untuk sehari-hari."},
      {id:3,name:"Celana Jeans",price:200000,img:"celanajeans.jpg",desc:"Celana jeans bahan premium, cocok untuk tampilan kasual maupun semi-formal."},
      {id:4,name:"Rok Jeans",price:150000,img:"rokjeans.jpg",desc:"Rok jeans model trendy, cocok untuk gaya kasual maupun semi-formal."},
      {id:5,name:"Baju Anak Cewe",price:70000,img:"bajuanakcewe.jpg",desc:"Baju anak model trendy, dan cantik."},
      {id:6,name:"Baju Anak Cowok",price:75000,img:"bajuanakcowo.jpg",desc:"Baju anak cowok model kasual, nyaman dipakai untuk bermain maupun jalan-jalan."},
      {id:7,name:"Baju Gaun Muslim Wanita",price:250000,img:"bajumuslimcantikwanita.jpg",desc:"Baju muslim wanita elegan, nyaman dipakai untuk acara formal maupun casual."},
      {id:8,name:"Setelan Baju Jeans Hijab",price:300000,img:"setelanbajujenshijab.jpg",desc:"Setelan baju jeans hijab trendy, cocok untuk gaya casual maupun hangout."},
      {id:9,name:"Rok Span Rajut",price:175000,img:"rokspanrajut.jpg",desc:"Rok span rajut elastis, nyaman dipakai untuk kegiatan santai maupun formal."},
      {id:10,name:"Baju Couple",price:320000,img:"bajucouple.jpg",desc:"Baju couple modern, cocok dipakai bersama pasangan untuk acara casual maupun formal."},
      {id:11,name:"Hoodie",price:180000,img:"hoodie.jpg",desc:"Hoodie hangat dan stylish, cocok untuk dipakai sehari-hari maupun jalan santai."},
      {id:12,name:"Switer",price:180000,img:"switer.jpg",desc:"Switer hangat dan stylish, cocok untuk dipakai sehari-hari maupun jalan santai."},
      {id:13,name:"Blazer Wanita",price:220000,img:"blazerwanita.jpg",desc:"Blazer elegan untuk acara formal maupun kerja."},
      {id:14,name:"Kaos Oversize",price:95000,img:"kaosoversize.jpg",desc:"Kaos oversize bahan adem, nyaman untuk santai."},
      {id:15,name:"Jaket Denim",price:210000,img:"jaketdenim.jpg",desc:"Jaket denim trendy cocok untuk semua suasana."}
    ];

    let cart={}, wishlist={}, comments={}, currentPage=1, productsPerPage=4;
    const productList=document.getElementById("product-list");
    const cartItems=document.getElementById("cartItems");
    const cartTotal=document.getElementById("cartTotal");
    const searchInput=document.getElementById("searchInput");
    const wishlistItems=document.getElementById("wishlistItems");
    const toast=document.getElementById("toast");

    function showToast(msg){ toast.textContent=msg; toast.className="show"; setTimeout(()=>{ toast.className=toast.className.replace("show",""); },3000); }

    function renderProducts(){
      productList.innerHTML="";
      const searchText=searchInput.value.toLowerCase();
      const filtered=products.filter(p=>p.name.toLowerCase().includes(searchText)||p.desc.toLowerCase().includes(searchText));
      const totalPages=Math.ceil(filtered.length/productsPerPage);
      if(currentPage>totalPages) currentPage=totalPages||1;
      const start=(currentPage-1)*productsPerPage;
      const pageProducts=filtered.slice(start,start+productsPerPage);
      pageProducts.forEach(p=>{
        const card=document.createElement("div");
        card.className="card";
        card.innerHTML=`
          <img src="${p.img}" alt="${p.name}">
          <h3>${p.name}</h3>
          <p>${p.desc}</p>
          <p><strong>Rp${p.price.toLocaleString()}</strong></p>
          <button onclick="addToCart(${p.id})">Tambah ke Keranjang</button>
          <button onclick="addToWishlist(${p.id})">‚ù§Ô∏è Wishlist</button>
          <div class="comments">
            <h4>Komentar:</h4>
            <div id="comment-list-${p.id}">${(comments[p.id]||[]).map(c=>`<div class="comment-box"><strong>${c.name}:</strong> ${c.text}</div>`).join("")}</div>
            <form onsubmit="addComment(event,${p.id})">
              <input type="text" id="commentName-${p.id}" placeholder="Nama" required>
              <input type="text" id="commentText-${p.id}" placeholder="Tulis komentar..." required>
              <button type="submit">Kirim</button>
            </form>
          </div>`;
        productList.appendChild(card);
      });
      renderPagination(filtered.length);
    }

    function renderPagination(totalItems){
      const totalPages=Math.ceil(totalItems/productsPerPage);
      const pagination=document.getElementById("pagination");
      pagination.innerHTML=`
        <button onclick="prevPage()" ${currentPage===1?"disabled":""}>‚ü® Prev</button>
        <span> Halaman ${currentPage} dari ${totalPages||1} </span>
        <button onclick="nextPage(${totalPages})" ${currentPage===totalPages?"disabled":""}>Next ‚ü©</button>`;
    }
    function nextPage(totalPages){ if(currentPage<totalPages){ currentPage++; renderProducts(); } }
    function prevPage(){ if(currentPage>1){ currentPage--; renderProducts(); } }

    function addToCart(id){ cart[id]=(cart[id]||0)+1; renderCart(); showToast("Produk ditambahkan ke keranjang!"); }
    function renderCart(){
      cartItems.innerHTML=""; let total=0;
      for(let id in cart){ let p=products.find(prod=>prod.id==id); let qty=cart[id]; total+=p.price*qty;
        cartItems.innerHTML+=`<div>${p.name} x ${qty} = Rp${(p.price*qty).toLocaleString()} <button onclick="removeFromCart(${id})">Hapus</button></div>`;
      }
      let discount=0;
      if(total>=200000){ discount=total*0.1; cartItems.innerHTML+=`<p style="color:green;">Diskon 10%: -Rp${discount.toLocaleString()}</p>`; }
      cartTotal.textContent="Rp"+(total-discount).toLocaleString();
    }
    function removeFromCart(id){ delete cart[id]; renderCart(); showToast("Produk dihapus dari keranjang!"); }

    function addToWishlist(id){ wishlist[id]=true; renderWishlist(); showToast("Produk ditambahkan ke wishlist!"); }
    function renderWishlist(){ wishlistItems.innerHTML=""; for(let id in wishlist){ let p=products.find(prod=>prod.id==id); wishlistItems.innerHTML+=`<div>${p.name} <button onclick="removeFromWishlist(${id})">Hapus</button></div>`; } }
    function removeFromWishlist(id){ delete wishlist[id]; renderWishlist(); showToast("Produk dihapus dari wishlist!"); }

    document.getElementById("addProductForm").addEventListener("submit", e=>{
      e.preventDefault();
      let newProduct={ id:Date.now(), name:document.getElementById("name").value, price:parseInt(document.getElementById("price").value), img:document.getElementById("img").value, desc:document.getElementById("desc").value };
      products.push(newProduct); renderProducts(); showToast("Produk baru berhasil ditambahkan!"); e.target.reset();
    });

    document.getElementById("checkoutBtn").addEventListener("click", ()=>{
      if(Object.keys(cart).length===0){ showToast("Keranjang masih kosong!"); } else { showToast("Terima kasih, pesanan Anda diproses!"); cart={}; renderCart(); }
    });

    function addComment(event,productId){
      event.preventDefault();
      const name=document.getElementById(`commentName-${productId}`).value;
      const text=document.getElementById(`commentText-${productId}`).value;
      if(!comments[productId]) comments[productId]=[];
      comments[productId].push({name,text});
      renderProducts(); showToast("Komentar ditambahkan!");
    }

    searchInput.addEventListener("input",()=>{ currentPage=1; renderProducts(); });

    renderProducts(); renderCart(); renderWishlist();
  </script>
</body>
</html>
